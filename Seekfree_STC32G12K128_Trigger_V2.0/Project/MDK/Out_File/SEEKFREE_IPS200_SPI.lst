C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE SEEKFREE_IPS200_SPI
OBJECT MODULE PLACED IN .\Out_File\SEEKFREE_IPS200_SPI.obj
COMPILER INVOKED BY: E:\Kust-Travel\Keil_v5\C251\BIN\C251.EXE ..\..\Libraries\seekfree_peripheral\SEEKFREE_IPS200_SPI.c 
                    -LARGE INTR2 FLOAT64 WARNINGLEVEL(3) OPTIMIZE(0,SPEED) BROWSE INCDIR(..\..\Libraries\libraries;..\..\Libraries\seekfree_l
                    -ibraries;..\..\Libraries\seekfree_peripheral;..\CODE;..\USER\inc;..\USER\src;..\..\Libraries\seekfree_components) DEBUG 
                    -PRINT(.\Out_File\SEEKFREE_IPS200_SPI.lst) OBJECT(.\Out_File\SEEKFREE_IPS200_SPI.obj) 

stmt  level    source

    1          /********************************************************************************************************
             -*************
    2           * COPYRIGHT NOTICE
    3           * Copyright (c) 2018,é€é£ç§‘æŠ€
    4           * All rights reserved.
    5           * æŠ€æœ¯è®¨è®ºQQç¾¤ï¼šä¸€ç¾¤ï¼š179029047(å·²æ»¡)  äºŒç¾¤ï¼š244861897(å·²æ»¡)  ä¸‰ç¾¤ï¼š824575535
    6           *
    7           * ä»¥ä¸‹æ‰€æœ‰å†…å®¹ç‰ˆæƒå‡å±é€é£ç§‘æŠ€æ‰€æœ‰ï¼Œæœªç»å…è®¸ä¸å¾—ç”¨äºå•†ä¸šç”¨é€”ï¼Œ
    8           * æ¬¢è¿å„ä½ä½¿ç”¨å¹¶ä¼ æ’­æœ¬ç¨‹åºï¼Œä¿®æ”¹å†…å®¹æ—¶å¿…é¡»ä¿ç•™é€é£ç§‘æŠ€çš„ç‰ˆæƒå£°æ˜ã€‚
    9           *
   10           * @file                IPS200_SPI
   11           * @company                     æˆéƒ½é€é£ç§‘æŠ€æœ‰é™å…¬å¸
   12           * @author              é€é£ç§‘æŠ€(QQ3184284598)
   13           * @version             æŸ¥çœ‹docå†…versionæ–‡ä»¶ ç‰ˆæœ¬è¯´æ˜
   14           * @Software            MDK FOR C251 V5.60
   15           * @Target core         STC32F12K
   16           * @Taobao              https://seekfree.taobao.com/
   17           * @date                2019-11-15
   18           * @note                
   19                                                  æ¥çº¿å®šä¹‰ï¼š
   20                                                  ------------------------------------ 
   21                                                  2.0å¯¸IPSæ¨¡å—ç®¡è„š       å•ç‰‡æœºç®¡è„š
   22                                                  SCL                     æŸ¥çœ‹SEEKFREE_IPS200_SPI.hæ–‡ä»¶å†…çš„IPS200_SCL               å®å®šä¹‰     ç¡¬ä»¶SPIå¼•è„
             -šä¸å¯éšæ„åˆ‡æ¢
   23                                                  SDA                     æŸ¥çœ‹SEEKFREE_IPS200_SPI.hæ–‡ä»¶å†…çš„IPS200_SDA               å®å®šä¹‰     ç¡¬ä»¶SPIå¼•è„
             -šä¸å¯éšæ„åˆ‡æ¢
   24                                                  RES                     æŸ¥çœ‹SEEKFREE_IPS200_SPI.hæ–‡ä»¶å†…çš„IPS200_RST_PIN å®å®šä¹‰    
   25                                                  DC                      æŸ¥çœ‹SEEKFREE_IPS200_SPI.hæ–‡ä»¶å†…çš„IPS200_DC_PIN    å®å®šä¹‰  
   26                                                  CS                      æŸ¥çœ‹SEEKFREE_IPS200_SPI.hæ–‡ä»¶å†…çš„IPS200_CS                å®å®šä¹‰     ç¡¬ä»¶SPIå¼•è„š
             -ä¸å¯éšæ„åˆ‡æ¢
   27                                                  BL                                      æŸ¥çœ‹SEEKFREE_IPS200_SPI.hæ–‡ä»¶å†…çš„IPS200_BL_PIN    å®å®šä¹‰
   28                                                  
   29                                                  ç”µæºå¼•è„š
   30                                                  VCC 3.3Vç”µæº
   31                                                  GND ç”µæºåœ°
   32                                                  æœ€å¤§åˆ†è¾¨ç‡320*240
   33                                                  ------------------------------------ 
   34           ********************************************************************************************************
             -************/
   35          
   36          
   37          #include "SEEKFREE_IPS200_SPI.h"
   38          #include "SEEKFREE_FONT.h"
   39          #include "SEEKFREE_FUNCTION.h"
   40          #include "zf_function.h"
   41          
   42          #pragma warning disable = 115
   43          #pragma warning disable = 186
   44          
   45          #include "zf_spi.h"
   46          #include "zf_delay.h"
   47          
   48          static uint16 ips200_pencolor = IPS200_DEFAULT_PENCOLOR;
   49          static uint16 ips200_bgcolor  = IPS200_DEFAULT_BGCOLOR;
   50          
   51          static ips200_type_enum         ips200_display_type = IPS200_TYPE_SPI;
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 2   

   52          static ips200_dir_enum          ips200_display_dir  = IPS200_DEFAULT_DISPLAY_DIR;
   53          static ips200_font_size_enum    ips200_display_font = IPS200_DEFAULT_DISPLAY_FONT;
   54          
   55          static uint16 ips200_x_max = 240;
   56          static uint16 ips200_y_max = 320;
   57          
   58          //-------------------------------------------------------------------------------------------------------
             -------------
   59          // å‡½æ•°ç®€ä»‹     IPS200 SPI å†™ 8bit æ•°æ®
   60          // å‚æ•°è¯´æ˜     data            æ•°æ®
   61          // è¿”å›å‚æ•°     void
   62          // ä½¿ç”¨ç¤ºä¾‹     ips200_write_8bit_data_spi(command);
   63          // å¤‡æ³¨ä¿¡æ¯     å†…éƒ¨è°ƒç”¨
   64          //-------------------------------------------------------------------------------------------------------
             -------------
   65          void ips200_write_8bit_data_spi(uint8 dat)    
   66          {
   67   1              spi_mosi(dat);
   68   1      
   69   1      }
   70          
   71          //-------------------------------------------------------------------------------------------------------
             -------------
   72          // å‡½æ•°ç®€ä»‹     IPS200 SPI å†™ 16bit æ•°æ®
   73          // å‚æ•°è¯´æ˜     data            æ•°æ®
   74          // è¿”å›å‚æ•°     void
   75          // ä½¿ç”¨ç¤ºä¾‹     ips200_write_16bit_data_spi(dat);
   76          // å¤‡æ³¨ä¿¡æ¯     å†…éƒ¨è°ƒç”¨
   77          //-------------------------------------------------------------------------------------------------------
             -------------
   78          void ips200_write_16bit_data_spi(uint16 dat)   
   79          {
   80   1          uint8 dat1[2];
   81   1          dat1[0] = dat >> 8;
   82   1          dat1[1] = (uint8)dat;
   83   1              
   84   1              spi_mosi(dat1[0]);      //å†™å…¥æ•°æ®  é«˜ä½åœ¨å‰  ä½ä½åœ¨å
   85   1              spi_mosi(dat1[1]);
   86   1      }
   87          
   88          
   89          //-------------------------------------------------------------------------------------------------------
             -------------
   90          // å‡½æ•°ç®€ä»‹     IPS200 å†™å‘½ä»¤
   91          // å‚æ•°è¯´æ˜     command         å‘½ä»¤
   92          // è¿”å›å‚æ•°     void
   93          // ä½¿ç”¨ç¤ºä¾‹     ips200_write_command(0x2a);
   94          // å¤‡æ³¨ä¿¡æ¯     å†…éƒ¨è°ƒç”¨ ç”¨æˆ·æ— éœ€å…³å¿ƒ
   95          //-------------------------------------------------------------------------------------------------------
             -------------
   96          static void ips200_write_command (const uint8 command)
   97          {
   98   1      
   99   1              IPS200_CS(1);
  100   1              IPS200_CS(0);
  101   1              IPS200_DC(0);
  102   1              ips200_write_8bit_data_spi(command);
  103   1              IPS200_DC(1);
  104   1              IPS200_CS(1);
  105   1              IPS200_CS(0);
  106   1      
  107   1      }
  108          
  109          //-------------------------------------------------------------------------------------------------------
             -------------
  110          // å‡½æ•°ç®€ä»‹     IPS200 å‘æ¶²æ™¶å±å†™ 8bit æ•°æ®
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 3   

  111          // å‚æ•°è¯´æ˜     dat             æ•°æ®
  112          // è¿”å›å‚æ•°     void
  113          // ä½¿ç”¨ç¤ºä¾‹     ips200_write_8bit_data(0x0C);
  114          // å¤‡æ³¨ä¿¡æ¯     å†…éƒ¨è°ƒç”¨ ç”¨æˆ·æ— éœ€å…³å¿ƒ
  115          //-------------------------------------------------------------------------------------------------------
             -------------
  116          static void ips200_write_8bit_data (const uint8 dat)
  117          {
  118   1              IPS200_CS(0);
  119   1          IPS200_DC(1);
  120   1              ips200_write_8bit_data_spi(dat);
  121   1              IPS200_CS(1);
  122   1      }
  123          
  124          //-------------------------------------------------------------------------------------------------------
             -------------
  125          // å‡½æ•°ç®€ä»‹     IPS200 å‘æ¶²æ™¶å±å†™ 16bit æ•°æ®
  126          // å‚æ•°è¯´æ˜     dat             æ•°æ®
  127          // è¿”å›å‚æ•°     void
  128          // ä½¿ç”¨ç¤ºä¾‹     ips200_write_16bit_data(x1);
  129          // å¤‡æ³¨ä¿¡æ¯     å†…éƒ¨è°ƒç”¨ ç”¨æˆ·æ— éœ€å…³å¿ƒ
  130          //-------------------------------------------------------------------------------------------------------
             -------------
  131          static void ips200_write_16bit_data (const uint16 dat)
  132          {
  133   1              IPS200_CS(0);
  134   1          IPS200_DC(1);
  135   1              ips200_write_16bit_data_spi(dat);
  136   1              IPS200_CS(1);
  137   1      }
  138          
  139          //-------------------------------------------------------------------------------------------------------
             -------------
  140          // å‡½æ•°ç®€ä»‹     è®¾ç½®æ˜¾ç¤ºåŒºåŸŸ
  141          // å‚æ•°è¯´æ˜     x1              èµ·å§‹xè½´åæ ‡
  142          // å‚æ•°è¯´æ˜     y1              èµ·å§‹yè½´åæ ‡
  143          // å‚æ•°è¯´æ˜     x2              ç»“æŸxè½´åæ ‡
  144          // å‚æ•°è¯´æ˜     y2              ç»“æŸyè½´åæ ‡
  145          // è¿”å›å‚æ•°     void
  146          // ä½¿ç”¨ç¤ºä¾‹     ips200_set_region(0, 0, ips200_x_max - 1, ips200_y_max - 1);
  147          // å¤‡æ³¨ä¿¡æ¯     å†…éƒ¨è°ƒç”¨ ç”¨æˆ·æ— éœ€å…³å¿ƒ
  148          //-------------------------------------------------------------------------------------------------------
             -------------
  149          static void ips200_set_region (uint16 x1, uint16 y1, uint16 x2, uint16 y2)
  150          {
  151   1      
  152   1      
  153   1          ips200_write_command(0x2a);
  154   1          ips200_write_16bit_data(x1);
  155   1          ips200_write_16bit_data(x2);
  156   1          
  157   1          ips200_write_command(0x2b);
  158   1          ips200_write_16bit_data(y1);
  159   1          ips200_write_16bit_data(y2);
  160   1          
  161   1          ips200_write_command(0x2c);
  162   1      }
  163          
  164          
  165          //-------------------------------------------------------------------------------------------------------
             -------------
  166          // å‡½æ•°ç®€ä»‹     IPS200 æ¸…å±å‡½æ•°
  167          // å‚æ•°è¯´æ˜     void
  168          // è¿”å›å‚æ•°     void
  169          // ä½¿ç”¨ç¤ºä¾‹     ips200_clear();
  170          // å¤‡æ³¨ä¿¡æ¯     å°†å±å¹•æ¸…ç©ºæˆèƒŒæ™¯é¢œè‰²
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 4   

  171          //-------------------------------------------------------------------------------------------------------
             -------------
  172          void ips200_clear (void)
  173          {
  174   1          uint16 i, j;
  175   1              IPS200_CS(0);
  176   1      
  177   1          ips200_set_region(0, 0, ips200_x_max - 1, ips200_y_max - 1);
  178   1          for(i = 0; i < ips200_x_max; i ++)
  179   1          {
  180   2              for (j = 0; j < ips200_y_max; j ++)
  181   2              {
  182   3                  ips200_write_16bit_data(ips200_bgcolor);                 
  183   3              }
  184   2          }
  185   1      
  186   1              IPS200_CS(1);
  187   1      
  188   1      }
  189          
  190          //-------------------------------------------------------------------------------------------------------
             -------------
  191          // å‡½æ•°ç®€ä»‹     IPS200 å±å¹•å¡«å……å‡½æ•°
  192          // å‚æ•°è¯´æ˜     color           é¢œè‰²æ ¼å¼ RGB565 æˆ–è€…å¯ä»¥ä½¿ç”¨ zf_common_font.h å†… rgb565_co
             -lor_enum æšä¸¾å€¼æˆ–è€…è‡ªè¡Œå†™å…¥
  193          // è¿”å›å‚æ•°     void
  194          // ä½¿ç”¨ç¤ºä¾‹     ips200_full(RGB565_BLACK);
  195          // å¤‡æ³¨ä¿¡æ¯     å°†å±å¹•å¡«å……æˆæŒ‡å®šé¢œè‰²
  196          //-------------------------------------------------------------------------------------------------------
             -------------
  197          void ips200_full (const uint16 color)
  198          {
  199   1          uint16 i, j;
  200   1      
  201   1              IPS200_CS(0);
  202   1      
  203   1          ips200_set_region(0, 0, ips200_x_max - 1, ips200_y_max - 1);
  204   1          for(i = 0; i < ips200_x_max; i ++)
  205   1          {
  206   2              for (j = 0; j < ips200_y_max; j ++)
  207   2              {
  208   3                  ips200_write_16bit_data(color);                 
  209   3              }
  210   2          }
  211   1      
  212   1              IPS200_CS(1);
  213   1      
  214   1      }
  215          
  216          //-------------------------------------------------------------------------------------------------------
             -------------
  217          // å‡½æ•°ç®€ä»‹     è®¾ç½®æ˜¾ç¤ºæ–¹å‘
  218          // å‚æ•°è¯´æ˜     dir             æ˜¾ç¤ºæ–¹å‘  å‚ç…§ zf_device_ips200.h å†… ips200_dir_enum æšä¸¾ä½“
             -å®šä¹‰
  219          // è¿”å›å‚æ•°     void
  220          // ä½¿ç”¨ç¤ºä¾‹     ips200_set_dir(IPS200_PORTAIT);
  221          // å¤‡æ³¨ä¿¡æ¯     è¿™ä¸ªå‡½æ•°åªæœ‰åœ¨åˆå§‹åŒ–å±å¹•ä¹‹å‰è°ƒç”¨æ‰ç”Ÿæ•ˆ
  222          //-------------------------------------------------------------------------------------------------------
             -------------
  223          void ips200_set_dir (ips200_dir_enum dir)
  224          {
  225   1          ips200_display_dir = dir;
  226   1          if(dir < 2)
  227   1          {
  228   2              ips200_x_max = 240;
  229   2              ips200_y_max = 320;
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 5   

  230   2          }
  231   1          else
  232   1          {
  233   2              ips200_x_max = 320;
  234   2              ips200_y_max = 240;
  235   2          }
  236   1      }
  237          
  238          //-------------------------------------------------------------------------------------------------------
             -------------
  239          // å‡½æ•°ç®€ä»‹     è®¾ç½®æ˜¾ç¤ºå­—ä½“
  240          // å‚æ•°è¯´æ˜     dir             æ˜¾ç¤ºæ–¹å‘  å‚ç…§ zf_device_ips200.h å†… ips200_font_size_enum æš
             -ä¸¾ä½“å®šä¹‰
  241          // è¿”å›å‚æ•°     void
  242          // ä½¿ç”¨ç¤ºä¾‹     ips200_set_font(IPS200_8x16_FONT);
  243          // å¤‡æ³¨ä¿¡æ¯     å­—ä½“å¯ä»¥éšæ—¶è‡ªç”±è®¾ç½® è®¾ç½®åç”Ÿæ•ˆ åç»­æ˜¾ç¤ºå°±æ˜¯æ–°çš„å­—ä½“å¤§å°
  244          //-------------------------------------------------------------------------------------------------------
             -------------
  245          void ips200_set_font (ips200_font_size_enum font)
  246          {
  247   1          ips200_display_font = font;
  248   1      }
  249          
  250          //-------------------------------------------------------------------------------------------------------
             -------------
  251          // å‡½æ•°ç®€ä»‹     è®¾ç½®æ˜¾ç¤ºé¢œè‰²
  252          // å‚æ•°è¯´æ˜     pen             é¢œè‰²æ ¼å¼ RGB565 æˆ–è€…å¯ä»¥ä½¿ç”¨ zf_common_font.h å†… rgb565_co
             -lor_enum æšä¸¾å€¼æˆ–è€…è‡ªè¡Œå†™å…¥
  253          // å‚æ•°è¯´æ˜     bgcolor         é¢œè‰²æ ¼å¼ RGB565 æˆ–è€…å¯ä»¥ä½¿ç”¨ zf_common_font.h å†… rgb565_co
             -lor_enum æšä¸¾å€¼æˆ–è€…è‡ªè¡Œå†™å…¥
  254          // è¿”å›å‚æ•°     void
  255          // ä½¿ç”¨ç¤ºä¾‹     ips200_set_color(RGB565_RED, RGB565_GRAY);
  256          // å¤‡æ³¨ä¿¡æ¯     å­—ä½“é¢œè‰²å’ŒèƒŒæ™¯é¢œè‰²ä¹Ÿå¯ä»¥éšæ—¶è‡ªç”±è®¾ç½® è®¾ç½®åç”Ÿæ•ˆ
  257          //-------------------------------------------------------------------------------------------------------
             -------------
  258          void ips200_set_color (const uint16 pen, const uint16 bgcolor)
  259          {
  260   1          ips200_pencolor = pen;
  261   1          ips200_bgcolor = bgcolor;
  262   1      }
  263          
  264          //-------------------------------------------------------------------------------------------------------
             -------------
  265          // å‡½æ•°ç®€ä»‹     IPS200 ç”»ç‚¹
  266          // å‚æ•°è¯´æ˜     x               åæ ‡xæ–¹å‘çš„èµ·ç‚¹ [0, ips200_x_max-1]
  267          // å‚æ•°è¯´æ˜     y               åæ ‡yæ–¹å‘çš„èµ·ç‚¹ [0, ips200_y_max-1]
  268          // å‚æ•°è¯´æ˜     color           é¢œè‰²æ ¼å¼ RGB565 æˆ–è€…å¯ä»¥ä½¿ç”¨ zf_common_font.h å†… rgb565_co
             -lor_enum æšä¸¾å€¼æˆ–è€…è‡ªè¡Œå†™å…¥
  269          // è¿”å›å‚æ•°     void
  270          // ä½¿ç”¨ç¤ºä¾‹     ips200_draw_point(0, 0, RGB565_RED);            //åæ ‡0,0ç”»ä¸€ä¸ªçº¢è‰²çš„ç‚¹
  271          // å¤‡æ³¨ä¿¡æ¯
  272          //-------------------------------------------------------------------------------------------------------
             -------------
  273          void ips200_draw_point (uint16 x, uint16 y, const uint16 color)
  274          {
  275   1      
  276   1      
  277   1              IPS200_CS(0);
  278   1      
  279   1          ips200_set_region(x, y, x, y);
  280   1          ips200_write_16bit_data(color);
  281   1      
  282   1              IPS200_CS(1);
  283   1      
  284   1      }
  285          
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 6   

  286          //-------------------------------------------------------------------------------------------------------
             -------------
  287          // å‡½æ•°ç®€ä»‹     IPS200 ç”»çº¿
  288          // å‚æ•°è¯´æ˜     x_start         åæ ‡xæ–¹å‘çš„èµ·ç‚¹ [0, ips200_x_max-1]
  289          // å‚æ•°è¯´æ˜     y_start         åæ ‡yæ–¹å‘çš„èµ·ç‚¹ [0, ips200_y_max-1]
  290          // å‚æ•°è¯´æ˜     x_end           åæ ‡xæ–¹å‘çš„ç»ˆç‚¹ [0, ips200_x_max-1]
  291          // å‚æ•°è¯´æ˜     y_end           åæ ‡yæ–¹å‘çš„ç»ˆç‚¹ [0, ips200_y_max-1]
  292          // å‚æ•°è¯´æ˜     color           é¢œè‰²æ ¼å¼ RGB565 æˆ–è€…å¯ä»¥ä½¿ç”¨ zf_common_font.h å†… rgb565_co
             -lor_enum æšä¸¾å€¼æˆ–è€…è‡ªè¡Œå†™å…¥
  293          // è¿”å›å‚æ•°     void
  294          // ä½¿ç”¨ç¤ºä¾‹     ips200_draw_line(0, 0, 10, 10, RGB565_RED);     // åæ ‡ 0,0 åˆ° 10,10 ç”»ä¸€æ¡çº¢è
             -‰²çš„çº¿
  295          // å¤‡æ³¨ä¿¡æ¯
  296          //-------------------------------------------------------------------------------------------------------
             -------------
  297          void ips200_draw_line (uint16 x_start, uint16 y_start, uint16 x_end, uint16 y_end, const uint16 color)
  298          {
  299   1      
  300   1          int16 x_dir = (x_start < x_end ? 1 : -1);
  301   1          int16 y_dir = (y_start < y_end ? 1 : -1);
  302   1          float temp_rate = 0;
  303   1          float temp_b = 0;
  304   1      
  305   1          do
  306   1          {
  307   2              if(x_start != x_end)
  308   2              {
  309   3                  temp_rate = (float)(y_start - y_end) / (float)(x_start - x_end);
  310   3                  temp_b = (float)y_start - (float)x_start * temp_rate;
  311   3              }
  312   2              else
  313   2              {
  314   3                  while(y_start != y_end)
  315   3                  {
  316   4                      ips200_draw_point(x_start, y_start, color);
  317   4                      y_start += y_dir;
  318   4                  }
  319   3                  break;
  320   3              }
  321   2                      
  322   2              if((func_abs(y_start - y_end)) > (func_abs(x_start - x_end)))
  323   2              {
  324   3                  while(y_start != y_end)
  325   3                  {
  326   4                      ips200_draw_point(x_start, y_start, color);
  327   4                      y_start += y_dir;
  328   4                      x_start = (int16)(((float)y_start - temp_b) / temp_rate);
  329   4                  }
  330   3              }
  331   2              else
  332   2              {
  333   3                  while(x_start != x_end)
  334   3                  {
  335   4                      ips200_draw_point(x_start, y_start, color);
  336   4                      x_start += x_dir;
  337   4                      y_start = (int16)((float)x_start * temp_rate + temp_b);
  338   4                  }
  339   3              }
  340   2          }while(0);
  341   1      }
  342          
  343          //-------------------------------------------------------------------------------------------------------
             -------------
  344          // å‡½æ•°ç®€ä»‹     IPS200 æ˜¾ç¤ºå­—ç¬¦
  345          // å‚æ•°è¯´æ˜     x               åæ ‡xæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_x_max-1]
  346          // å‚æ•°è¯´æ˜     y               åæ ‡yæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_y_max-1]
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 7   

  347          // å‚æ•°è¯´æ˜     dat             éœ€è¦æ˜¾ç¤ºçš„å­—ç¬¦
  348          // è¿”å›å‚æ•°     void
  349          // ä½¿ç”¨ç¤ºä¾‹     ips200_show_char(0, 0, 'x');                     // åæ ‡0,0å†™ä¸€ä¸ªå­—ç¬¦x
  350          // å¤‡æ³¨ä¿¡æ¯
  351          //-------------------------------------------------------------------------------------------------------
             -------------
  352          void ips200_show_char (uint16 x, uint16 y, const char dat)
  353          {
  354   1          uint8 i, j;
  355   1              uint8 temp_top;
  356   1              uint8 temp_bottom;
  357   1      
  358   1              IPS200_CS(0);
  359   1      
  360   1          switch(ips200_display_font)
  361   1          {
  362   2      
  363   2              case IPS200_8X16_FONT:
  364   2                  for(i = 0; i < 8; i ++)
  365   2                  {
  366   3                      ips200_set_region(x + i, y, x + i, y + 15);
  367   3                      // å‡ 32 å› ä¸ºæ˜¯å–æ¨¡æ˜¯ä»ç©ºæ ¼å¼€å§‹å–å¾— ç©ºæ ¼åœ¨ ascii ä¸­åºå·æ˜¯ 32
  368   3                      temp_top = ascii_font_8x16[dat - 32][i];
  369   3                      temp_bottom = ascii_font_8x16[dat - 32][i + 8];
  370   3                      for(j = 0; j < 8; j ++)
  371   3                      {
  372   4                          if(temp_top & 0x01)
  373   4                          {
  374   5                              ips200_write_16bit_data(ips200_pencolor);
  375   5                          }
  376   4                          else
  377   4                          {
  378   5                              ips200_write_16bit_data(ips200_bgcolor);
  379   5                          }
  380   4                          temp_top >>= 1;
  381   4                      }
  382   3                      for(j = 0; j < 8; j ++)
  383   3                      {
  384   4                          if(temp_bottom & 0x01)
  385   4                          {
  386   5                              ips200_write_16bit_data(ips200_pencolor);
  387   5                          }
  388   4                          else
  389   4                          {
  390   5                              ips200_write_16bit_data(ips200_bgcolor);
  391   5                          }
  392   4                          temp_bottom >>= 1;
  393   4                      }
  394   3                  }
  395   2                  break;
  396   2              case IPS200_16X16_FONT:
  397   2                  // æš‚ä¸æ”¯æŒ
  398   2                  break;
  399   2          }
  400   1      
  401   1              IPS200_CS(1);
  402   1      
  403   1      }
  404          
  405          //-------------------------------------------------------------------------------------------------------
             -------------
  406          // å‡½æ•°ç®€ä»‹     IPS200 æ˜¾ç¤ºå­—ç¬¦ä¸²
  407          // å‚æ•°è¯´æ˜     x               åæ ‡xæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_x_max-1]
  408          // å‚æ•°è¯´æ˜     y               åæ ‡yæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_y_max-1]
  409          // å‚æ•°è¯´æ˜     dat             éœ€è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²
  410          // è¿”å›å‚æ•°     void
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 8   

  411          // ä½¿ç”¨ç¤ºä¾‹     ips200_show_string(0, 0, "seekfree");
  412          // å¤‡æ³¨ä¿¡æ¯
  413          //-------------------------------------------------------------------------------------------------------
             -------------
  414          void ips200_show_string (uint16 x, uint16 y, const char dat[])
  415          {
  416   1      
  417   1          uint16 j = 0;
  418   1          while(dat[j] != '\0')
  419   1          {
  420   2              switch(ips200_display_font)
  421   2              {
  422   3      
  423   3                  case IPS200_8X16_FONT:
  424   3                      ips200_show_char(x + 8 * j, y, dat[j]);
  425   3                      j ++;
  426   3                      break;
  427   3                  case IPS200_16X16_FONT:
  428   3                      // æš‚ä¸æ”¯æŒ
  429   3                      break;
  430   3              }
  431   2          }
  432   1      }
  433          
  434          //-------------------------------------------------------------------------------------------------------
             -------------
  435          // å‡½æ•°ç®€ä»‹     IPS200 æ˜¾ç¤º32ä½æœ‰ç¬¦å· (å»é™¤æ•´æ•°éƒ¨åˆ†æ— æ•ˆçš„0)
  436          // å‚æ•°è¯´æ˜     x               åæ ‡xæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_x_max-1]
  437          // å‚æ•°è¯´æ˜     y               åæ ‡yæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_y_max-1]
  438          // å‚æ•°è¯´æ˜     dat             éœ€è¦æ˜¾ç¤ºçš„å˜é‡ æ•°æ®ç±»å‹ int32
  439          // å‚æ•°è¯´æ˜     num             éœ€è¦æ˜¾ç¤ºçš„ä½æ•° æœ€é«˜10ä½  ä¸åŒ…å«æ­£è´Ÿå·
  440          // è¿”å›å‚æ•°     void
  441          // ä½¿ç”¨ç¤ºä¾‹     ips200_show_int(0, 0, x, 3);                    // x å¯ä»¥ä¸º int32 int16 int8 ç±»å
             -‹
  442          // å¤‡æ³¨ä¿¡æ¯     è´Ÿæ•°ä¼šæ˜¾ç¤ºä¸€ä¸ª â€˜-â€™å·   æ­£æ•°æ˜¾ç¤ºä¸€ä¸ªç©ºæ ¼
  443          //-------------------------------------------------------------------------------------------------------
             -------------
  444          void ips200_show_int (uint16 x, uint16 y, const int32 dat, uint8 num)
  445          {
  446   1      
  447   1      
  448   1          int32 dat_temp = dat;
  449   1          int32 offset = 1;
  450   1          char data_buffer[12];
  451   1      
  452   1          memset(data_buffer, 0, 12);
  453   1          memset(data_buffer, ' ', num+1);
  454   1      
  455   1          if(num < 10)
  456   1          {
  457   2              for(; num > 0; num --)
  458   2              {
  459   3                  offset *= 10;
  460   3              }
  461   2              dat_temp %= offset;
  462   2          }
  463   1          func_int_to_str(data_buffer, dat_temp);
  464   1          ips200_show_string(x, y, (const char *)&data_buffer);
  465   1      }
  466          
  467          //-------------------------------------------------------------------------------------------------------
             -------------
  468          // å‡½æ•°ç®€ä»‹     IPS200 æ˜¾ç¤º32ä½æ— ç¬¦å· (å»é™¤æ•´æ•°éƒ¨åˆ†æ— æ•ˆçš„0)
  469          // å‚æ•°è¯´æ˜     x               åæ ‡xæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, IPS200_x_max-1]
  470          // å‚æ•°è¯´æ˜     y               åæ ‡yæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, IPS200_y_max-1]
  471          // å‚æ•°è¯´æ˜     dat             éœ€è¦æ˜¾ç¤ºçš„å˜é‡ æ•°æ®ç±»å‹ uint32
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 9   

  472          // å‚æ•°è¯´æ˜     num             éœ€è¦æ˜¾ç¤ºçš„ä½æ•° æœ€é«˜10ä½  ä¸åŒ…å«æ­£è´Ÿå·
  473          // è¿”å›å‚æ•°     void
  474          // ä½¿ç”¨ç¤ºä¾‹     ips200_show_uint(0, 0, x, 3);                   // x å¯ä»¥ä¸º uint32 uint16 uint8 ç±
             -»å‹
  475          // å¤‡æ³¨ä¿¡æ¯
  476          //-------------------------------------------------------------------------------------------------------
             -------------
  477          void ips200_show_uint (uint16 x, uint16 y, const uint32 dat, uint8 num)
  478          {
  479   1          uint32 dat_temp = dat;
  480   1          int32 offset = 1;
  481   1          char data_buffer[12];
  482   1          memset(data_buffer, 0, 12);
  483   1          memset(data_buffer, ' ', num);
  484   1      
  485   1          if(num < 10)
  486   1          {
  487   2              for(; num > 0; num --)
  488   2              {
  489   3                  offset *= 10;
  490   3              }
  491   2              dat_temp %= offset;
  492   2          }
  493   1          func_uint_to_str(data_buffer, dat_temp);
  494   1          ips200_show_string(x, y, (const char *)&data_buffer);
  495   1      }
  496          
  497          //-------------------------------------------------------------------------------------------------------
             -------------
  498          // å‡½æ•°ç®€ä»‹     IPS200 æ˜¾ç¤ºæµ®ç‚¹æ•°(å»é™¤æ•´æ•°éƒ¨åˆ†æ— æ•ˆçš„0)
  499          // å‚æ•°è¯´æ˜     x               åæ ‡xæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_x_max-1]
  500          // å‚æ•°è¯´æ˜     y               åæ ‡yæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_y_max-1]
  501          // å‚æ•°è¯´æ˜     dat             éœ€è¦æ˜¾ç¤ºçš„å˜é‡ï¼Œæ•°æ®ç±»å‹floatæˆ–double
  502          // å‚æ•°è¯´æ˜     num             æ•´æ•°ä½æ˜¾ç¤ºé•¿åº¦   æœ€é«˜8ä½
  503          // å‚æ•°è¯´æ˜     pointnum        å°æ•°ä½æ˜¾ç¤ºé•¿åº¦   æœ€é«˜6ä½
  504          // è¿”å›å‚æ•°     void
  505          // ä½¿ç”¨ç¤ºä¾‹     ips200_show_float(0, 0, x, 2, 3);               // æ˜¾ç¤ºæµ®ç‚¹æ•°   æ•´æ•°æ˜¾ç¤º2ä½
             -   å°æ•°æ˜¾ç¤ºä¸‰ä½
  506          // å¤‡æ³¨ä¿¡æ¯     ç‰¹åˆ«æ³¨æ„å½“å‘ç°å°æ•°éƒ¨åˆ†æ˜¾ç¤ºçš„å€¼ä¸ä½ å†™å…¥çš„å€¼ä¸ä¸€æ ·çš„æ—¶å€™ï¼Œ
  507          //              å¯èƒ½æ˜¯ç”±äºæµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜å¯¼è‡´çš„ï¼Œè¿™å¹¶ä¸æ˜¯æ˜¾ç¤ºå‡½æ•°çš„é—®é¢˜ï¼
             -Œ
  508          //              æœ‰å…³é—®é¢˜çš„è¯¦æƒ…ï¼Œè¯·è‡ªè¡Œç™¾åº¦å­¦ä¹    æµ®ç‚¹æ•°ç²¾åº¦ä¸¢å¤±é—®é¢˜ã€‚
  509          //              è´Ÿæ•°ä¼šæ˜¾ç¤ºä¸€ä¸ª â€˜-â€™å·   æ­£æ•°æ˜¾ç¤ºä¸€ä¸ªç©ºæ ¼
  510          //-------------------------------------------------------------------------------------------------------
             -------------
  511          void ips200_show_float (uint16 x, uint16 y, const double dat, uint8 num, uint8 pointnum)
  512          {
  513   1      
  514   1          double dat_temp = dat;
  515   1          double offset = 1.0;
  516   1          char data_buffer[17];
  517   1          memset(data_buffer, 0, 17);
  518   1          memset(data_buffer, ' ', num+pointnum+2);
  519   1      
  520   1          if(num < 10)
  521   1          {
  522   2              for(; num > 0; num --)
  523   2              {
  524   3                  offset *= 10;
  525   3              }
  526   2              dat_temp = dat_temp - ((int)dat_temp / (int)offset) * offset;
  527   2          }
  528   1          func_double_to_str(data_buffer, dat_temp, pointnum);
  529   1          ips200_show_string(x, y, data_buffer);
  530   1      }
  531          
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 10  

  532          
  533          
  534          
  535          //-------------------------------------------------------------------------------------------------------
             -------------
  536          // å‡½æ•°ç®€ä»‹     IPS200 æ˜¾ç¤ºæ³¢å½¢
  537          // å‚æ•°è¯´æ˜     x               åæ ‡xæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_x_max-1]
  538          // å‚æ•°è¯´æ˜     y               åæ ‡yæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_y_max-1]
  539          // å‚æ•°è¯´æ˜     *wave           æ³¢å½¢æ•°ç»„æŒ‡é’ˆ
  540          // å‚æ•°è¯´æ˜     width           æ³¢å½¢å®é™…å®½åº¦
  541          // å‚æ•°è¯´æ˜     value_max       æ³¢å½¢å®é™…æœ€å¤§å€¼
  542          // å‚æ•°è¯´æ˜     dis_width       æ³¢å½¢æ˜¾ç¤ºå®½åº¦ å‚æ•°èŒƒå›´ [0, ips200_x_max]
  543          // å‚æ•°è¯´æ˜     dis_value_max   æ³¢å½¢æ˜¾ç¤ºæœ€å¤§å€¼ å‚æ•°èŒƒå›´ [0, ips200_y_max]
  544          // è¿”å›å‚æ•°     void
  545          // ä½¿ç”¨ç¤ºä¾‹     ips200_show_wave(0, 0, data, 128, 64, 64, 32);
  546          // å¤‡æ³¨ä¿¡æ¯
  547          //-------------------------------------------------------------------------------------------------------
             -------------
  548          void ips200_show_wave (uint16 x, uint16 y, const uint16 *wave, uint16 width, uint16 value_max, uint16 dis
             -_width, uint16 dis_value_max)
  549          {
  550   1      
  551   1          uint32 i = 0, j = 0;
  552   1          uint32 width_index = 0, value_max_index = 0;
  553   1      
  554   1      
  555   1              IPS200_CS(0);
  556   1      
  557   1          ips200_set_region(x, y, x + dis_width - 1, y + dis_value_max - 1);          // è®¾ç½®æ˜¾ç¤ºåŒºåŸŸ
  558   1          for(i = 0; i < dis_value_max; i ++)
  559   1          {
  560   2              for(j = 0; j < dis_width; j ++)
  561   2              {
  562   3                  ips200_write_16bit_data(ips200_bgcolor); 
  563   3              }
  564   2          }
  565   1      
  566   1              IPS200_CS(1);
  567   1      
  568   1      
  569   1          for(i = 0; i < dis_width; i ++)
  570   1          {
  571   2              width_index = i * width / dis_width;
  572   2              value_max_index = *(wave + width_index) * (dis_value_max - 1) / value_max;
  573   2              ips200_draw_point(i + x, (dis_value_max - 1) - value_max_index + y, ips200_pencolor);
  574   2          }
  575   1      }
  576          
  577          //-------------------------------------------------------------------------------------------------------
             -------------
  578          // å‡½æ•°ç®€ä»‹     æ±‰å­—æ˜¾ç¤º
  579          // å‚æ•°è¯´æ˜     x               åæ ‡xæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_x_max-1]
  580          // å‚æ•°è¯´æ˜     y               åæ ‡yæ–¹å‘çš„èµ·ç‚¹ å‚æ•°èŒƒå›´ [0, ips200_y_max-1]
  581          // å‚æ•°è¯´æ˜     size            å–æ¨¡çš„æ—¶å€™è®¾ç½®çš„æ±‰å­—å­—ä½“å¤§å° ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ±‰å­—å ç”
             -¨çš„ç‚¹é˜µé•¿å®½ä¸ºå¤šå°‘ä¸ªç‚¹ å–æ¨¡çš„æ—¶å€™éœ€è¦é•¿å®½æ˜¯ä¸€æ ·çš„
  582          // å‚æ•°è¯´æ˜     *chinese_buffer éœ€è¦æ˜¾ç¤ºçš„æ±‰å­—æ•°ç»„
  583          // å‚æ•°è¯´æ˜     number          éœ€è¦æ˜¾ç¤ºå¤šå°‘ä½
  584          // å‚æ•°è¯´æ˜     color           é¢œè‰²æ ¼å¼ RGB565 æˆ–è€…å¯ä»¥ä½¿ç”¨ zf_common_font.h å†… rgb565_co
             -lor_enum æšä¸¾å€¼æˆ–è€…è‡ªè¡Œå†™å…¥
  585          // è¿”å›å‚æ•°     void
  586          // ä½¿ç”¨ç¤ºä¾‹     ips200_show_chinese(0, 0, 16, chinese_test[0], 4, RGB565_RED);//æ˜¾ç¤ºfontæ–‡ä»¶é‡Œé
             -¢çš„ ç¤ºä¾‹
  587          // å¤‡æ³¨ä¿¡æ¯     ä½¿ç”¨PCtoLCD2002è½¯ä»¶å–æ¨¡           é˜´ç ã€é€è¡Œå¼ã€é¡ºå‘   16*16
  588          //-------------------------------------------------------------------------------------------------------
             -------------
  589          void ips200_show_chinese (uint16 x, uint16 y, uint8 size, const uint8 *chinese_buffer, uint8 number, cons
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 11  

             -t uint16 color)
  590          {
  591   1      
  592   1      
  593   1          int i, j, k;
  594   1          uint8 temp, temp1, temp2;
  595   1          const uint8 *p_data;
  596   1          
  597   1          temp2 = size / 8;
  598   1          
  599   1      
  600   1              IPS200_CS(0);
  601   1      
  602   1          ips200_set_region(x, y, number * size - 1 + x, y + size - 1);
  603   1          
  604   1          for(i = 0; i < size; i ++)
  605   1          {
  606   2              temp1 = number;
  607   2              p_data = chinese_buffer + i * temp2;
  608   2              while(temp1 --)
  609   2              {
  610   3                  for(k = 0; k < temp2; k ++)
  611   3                  {
  612   4                      for(j = 8; j > 0; j --)
  613   4                      {
  614   5                          temp = (*p_data >> (j - 1)) & 0x01;
  615   5                          if(temp)
  616   5                          {
  617   6                              ips200_write_16bit_data(color);
  618   6                          }
  619   5                          else
  620   5                          {
  621   6                              ips200_write_16bit_data(ips200_bgcolor);
  622   6                          }
  623   5                      }
  624   4                      p_data ++;
  625   4                  }
  626   3                  p_data = p_data - temp2 + temp2 * size;
  627   3              }   
  628   2          }
  629   1      
  630   1              IPS200_CS(1);
  631   1      
  632   1      }
  633          
  634          //-------------------------------------------------------------------------------------------------------
             -------------
  635          // å‡½æ•°ç®€ä»‹     2å¯¸ IPSæ¶²æ™¶åˆå§‹åŒ–
  636          // å‚æ•°è¯´æ˜     type_select     ä¸¤å¯¸å±æ¥å£ç±»å‹ IPS200_TYPE_SPI ä¸º SPI æ¥å£ä¸²å£ä¸¤å¯¸å± I
             -PS200_TYPE_PARALLEL8 ä¸º 8080 åè®®å…«ä½å¹¶å£ä¸¤å¯¸å±
  637          // è¿”å›å‚æ•°     void
  638          // ä½¿ç”¨ç¤ºä¾‹     ips200_init(IPS200_TYPE_PARALLEL8);
  639          // å¤‡æ³¨ä¿¡æ¯
  640          //-------------------------------------------------------------------------------------------------------
             -------------
  641          void ips200_init_spi ()
  642          {
  643   1              IPS200_BL(1);
  644   1              IPS200_DC(0);
  645   1              IPS200_RST(0);
  646   1              
  647   1      
  648   1              spi_init(IPS200_SPIN_PIN, IPS200_SCL_PIN, IPS200_SDA_PIN, IPS200_SDA_IN_PIN, 0, MASTER, SPI_SYSclk_DIV_2
             -);
  649   1      
  650   1      
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 12  

  651   1        
  652   1      
  653   1          ips200_set_dir(ips200_display_dir);
  654   1          ips200_set_color(ips200_pencolor, ips200_bgcolor);
  655   1      
  656   1          
  657   1          IPS200_BL(1);
  658   1          IPS200_RST(0);  
  659   1          delay_ms(5);
  660   1          IPS200_RST(1);      
  661   1          delay_ms(120);
  662   1          
  663   1      
  664   1              IPS200_CS(0);
  665   1      
  666   1          ips200_write_command(0x11);
  667   1          delay_ms(120);
  668   1      
  669   1          ips200_write_command(0x36);
  670   1          if(ips200_display_dir == 0)
  671   1          {
  672   2              ips200_write_8bit_data(0x00);
  673   2          }
  674   1          else if(ips200_display_dir == 1)
  675   1          {
  676   2              ips200_write_8bit_data(0xC0);
  677   2          }
  678   1          else if(ips200_display_dir == 2)
  679   1          {
  680   2              ips200_write_8bit_data(0x70);
  681   2          }
  682   1          else
  683   1          {
  684   2              ips200_write_8bit_data(0xA0);
  685   2          }
  686   1      
  687   1          ips200_write_command(0x3A);            
  688   1          ips200_write_8bit_data(0x05);
  689   1          
  690   1          ips200_write_command(0xB2);            
  691   1          ips200_write_8bit_data(0x0C);
  692   1          ips200_write_8bit_data(0x0C); 
  693   1          ips200_write_8bit_data(0x00); 
  694   1          ips200_write_8bit_data(0x33); 
  695   1          ips200_write_8bit_data(0x33);           
  696   1      
  697   1          ips200_write_command(0xB7);            
  698   1          ips200_write_8bit_data(0x35);
  699   1      
  700   1          ips200_write_command(0xBB);            
  701   1          ips200_write_8bit_data(0x29);                                               // 32 Vcom=1.35V
  702   1                                                                  
  703   1          ips200_write_command(0xC2);            
  704   1          ips200_write_8bit_data(0x01);
  705   1      
  706   1          ips200_write_command(0xC3);            
  707   1          ips200_write_8bit_data(0x19);                                               // GVDD=4.8V 
  708   1                                                                  
  709   1          ips200_write_command(0xC4);            
  710   1          ips200_write_8bit_data(0x20);                                               // VDV, 0x20:0v
  711   1      
  712   1          ips200_write_command(0xC5);            
  713   1          ips200_write_8bit_data(0x1A);                                               // VCOM Offset Set
  714   1      
  715   1          ips200_write_command(0xC6);            
  716   1          ips200_write_8bit_data(0x01F);                                              // 0x0F:60Hz          
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 13  

  717   1      
  718   1          ips200_write_command(0xD0);            
  719   1          ips200_write_8bit_data(0xA4);
  720   1          ips200_write_8bit_data(0xA1);                                                                        
             -                                                                                                                   
  721   1                      
  722   1          ips200_write_command(0xE0);     
  723   1          ips200_write_8bit_data(0xD0);   
  724   1          ips200_write_8bit_data(0x08);   
  725   1          ips200_write_8bit_data(0x0E);   
  726   1          ips200_write_8bit_data(0x09);   
  727   1          ips200_write_8bit_data(0x09);   
  728   1          ips200_write_8bit_data(0x05);   
  729   1          ips200_write_8bit_data(0x31);   
  730   1          ips200_write_8bit_data(0x33);   
  731   1          ips200_write_8bit_data(0x48);   
  732   1          ips200_write_8bit_data(0x17);   
  733   1          ips200_write_8bit_data(0x14);   
  734   1          ips200_write_8bit_data(0x15);   
  735   1          ips200_write_8bit_data(0x31);   
  736   1          ips200_write_8bit_data(0x34);   
  737   1      
  738   1          ips200_write_command(0xE1);     
  739   1          ips200_write_8bit_data(0xD0);   
  740   1          ips200_write_8bit_data(0x08);   
  741   1          ips200_write_8bit_data(0x0E);   
  742   1          ips200_write_8bit_data(0x09);   
  743   1          ips200_write_8bit_data(0x09); 
  744   1          ips200_write_8bit_data(0x15);   
  745   1          ips200_write_8bit_data(0x31);   
  746   1          ips200_write_8bit_data(0x33);   
  747   1          ips200_write_8bit_data(0x48);   
  748   1          ips200_write_8bit_data(0x17);   
  749   1          ips200_write_8bit_data(0x14);   
  750   1          ips200_write_8bit_data(0x15);   
  751   1          ips200_write_8bit_data(0x31);   
  752   1          ips200_write_8bit_data(0x34);   
  753   1      
  754   1          ips200_write_command(0x21);
  755   1          
  756   1          ips200_write_command(0x29);
  757   1      
  758   1              IPS200_CS(1);
  759   1      
  760   1      
  761   1          ips200_clear();                                                             // åˆå§‹åŒ–ä¸ºç™½å±
  762   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =      4010     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =       258     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =        49     ------
C251 COMPILER V5.60.0,  SEEKFREE_IPS200_SPI                                                19/06/25  20:26:06  PAGE 14  

End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
